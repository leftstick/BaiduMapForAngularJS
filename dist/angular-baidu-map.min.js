!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("angular"));else if("function"==typeof define&&define.amd)define(["angular"],t);else{var n=t("object"==typeof exports?require("angular"):e.angular);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ngBaiduMap=void 0;var r=n(1),a=o(r),i=n(2),l=n(3),u=n(4),d=n(5),c=n(6),s=n(7);t.ngBaiduMap=function(){var e="baiduMap";return(0,u.def)(e,{restrict:"E",scope:{options:"=",ak:"@",offline:"=",onMapLoaded:"&"},link:function(e,t,n){var o=a["default"].extend({},i.defaultOpts,e.options),r=a["default"].extend({},i.defaultOfflineOpts,e.offline);e.offlineWords=r.txt,(0,l.validator)(e.ak,"ak must not be empty"),(0,l.validator)(o.center,"options.center must be set"),(0,l.validator)(o.center.longitude,"options.center.longitude must be set"),(0,l.validator)(o.center.latitude,"options.center.latitude must be set"),(0,l.validator)(o.city,"options.city must be set"),(0,d.loader)(e.ak,r,function(){var n=(0,s.createInstance)(o,t);e.onMapLoaded({map:n});var r=[];(0,s.redrawMarkers)(n,r,o),e.$watch("options.center",function(t,a){o=e.options,n.centerAndZoom(new BMap.Point(o.center.longitude,o.center.latitude),o.zoom),(0,s.redrawMarkers)(n,r,o)},!0),e.$watch("options.markers",function(e,t){(0,s.redrawMarkers)(n,r,o)},!0)}),e.divStyle=c.divStyle,e.labelStyle=c.labelStyle,setTimeout(function(){var t=document.querySelector("baidu-map div label");e.labelStyle.marginTop=t.clientHeight/-2+"px",e.labelStyle.marginLeft=t.clientWidth/-2+"px",e.$apply()})},template:'<div ng-style="divStyle"><label ng-style="labelStyle">{{ offlineWords }}</label></div>'}),e}()},function(t,n){t.exports=e},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultOpts={navCtrl:!0,scaleCtrl:!0,overviewCtrl:!0,enableScrollWheelZoom:!0,zoom:10},t.defaultOfflineOpts={retryInterval:3e4,txt:"OFFLINE"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.validator=function(e,t){if(!e)throw new Error(t)}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.def=void 0;var r=n(1),a=o(r);t.def=function(e,t){a["default"].module(e,[]).directive(e,[function(){return t}])}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.loader=function(e,t,n){var o="//api.map.baidu.com/api?v=2.0&ak="+e+"&callback=baidumapinit",r=window.baiduMap;if(r&&"loading"===r.status)return r.callbacks.push(n);if(r&&"loaded"===r.status)return n();window.baiduMap={status:"loading",callbacks:[]},window.baidumapinit=function(){window.baiduMap.status="loaded",n(),window.baiduMap.callbacks.forEach(function(e){return e()}),window.baiduMap.callbacks=[]};var a=function i(){var e=document.createElement("script");e.type="text/javascript",e.src=o,e.onerror=function(){Array.prototype.slice.call(document.querySelectorAll("baidu-map div")).forEach(function(e){e.style.opacity=1}),document.body.removeChild(e),setTimeout(i,t.retryInterval)},document.body.appendChild(e)};a()}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.divStyle={width:"100%",height:"100%",backgroundColor:"#E6E6E6",position:"relative",opacity:0},t.labelStyle={fontSize:"30px",position:"absolute",top:"50%",marginTop:0,left:"50%",marginLeft:0}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(t.createInstance=function(e,t){var n=new BMap.Map(t[0]);return n.centerAndZoom(new BMap.Point(e.center.longitude,e.center.latitude),e.zoom),e.navCtrl&&n.addControl(new BMap.NavigationControl),e.scaleCtrl&&n.addControl(new BMap.ScaleControl),e.overviewCtrl&&n.addControl(new BMap.OverviewMapControl),e.enableScrollWheelZoom&&n.enableScrollWheelZoom(),n.setCurrentCity(e.city),n},t.createMarker=function(e,t){if(e.icon){var n=new BMap.Icon(e.icon,new BMap.Size(e.width,e.height));return new BMap.Marker(t,{icon:n})}return new BMap.Marker(t)});t.redrawMarkers=function(e,t,o){t.forEach(function(t){var n=t.marker,o=t.listener;n.removeEventListener("click",o),e.removeOverlay(n)}),t.length=0,o.markers&&o.markers.forEach(function(o){var r=n(o,new BMap.Point(o.longitude,o.latitude));e.addOverlay(r);var a={marker:r,listener:null};if(t.push(a),o.title||o.content){var i="<p>"+(o.title||"")+"</p><p>"+(o.content||"")+"</p>",l=new BMap.InfoWindow(i,{enableMessage:!!o.enableMessage});a.listener=function(){this.openInfoWindow(l)},r.addEventListener("click",a.listener)}})}}])});